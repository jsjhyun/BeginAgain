<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원 가입</title>
    <!-- Bootstrap 스타일 적용-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <!-- Poppins 및 Nunito 폰트 적용 -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/signup.css">
</head>
<body>
<!-- 로그인 페이지로 돌아가는 뒤로가기 버튼 -->
<a href="/login" class="back-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 1-.5.5H2.707l4.147 4.146a.5.5 0 0 1-.708.708l-5-5a.5.5 0 0 1 0-.708l5-5a.5.5 0 1 1 .708.708L2.707 7.5H14.5A.5.5 0 0 1 15 8z"/>
    </svg>
</a>

<div class="signup-container">
    <h2 class="text-center">회원 가입</h2>

    <!-- 서버 측 에러 메시지 출력 -->
    <div th:if="${signupError}" class="alert alert-danger" role="alert">
        <span th:text="${signupError}"></span>
    </div>
    <!-- 회원 가입 폼 -->
    <form th:action="@{/signup}" th:object="${userSignupDto}" method="POST">
        <!-- 이메일 입력 -->
        <div class="mb-3">
            <label for="email" class="form-label">이메일</label>
            <input type="email" class="form-control" id="email" th:field="*{email}" required>
            <!-- 이메일 입력 에러 메시지 -->
            <div th:if="${#fields.hasErrors('email')}" class="text-danger">
                <p th:errors="*{email}"></p>
            </div>
        </div>

        <!-- 비밀번호 입력 -->
        <div class="mb-3">
            <label for="password" class="form-label">비밀번호</label>
            <input type="password" class="form-control" id="password" th:field="*{password}" required>
            <!-- 비밀번호 입력 에러 메시지 -->
            <div th:if="${#fields.hasErrors('password')}" class="text-danger">
                <p th:errors="*{password}"></p>
            </div>
        </div>

        <!-- 비밀번호 확인 입력 -->
        <div class="mb-3">
            <label for="passwordConfirm" class="form-label">비밀번호 확인</label>
            <input type="password" class="form-control" id="passwordConfirm" th:field="*{passwordConfirm}" required>
            <!-- 비밀번호 확인 입력 에러 메시지 -->
            <div th:if="${#fields.hasErrors('passwordConfirm')}" class="text-danger">
                <p th:errors="*{passwordConfirm}"></p>
            </div>
        </div>

        <!-- 이름 입력 -->
        <div class="mb-3">
            <label for="name" class="form-label">이름</label>
            <input type="text" class="form-control" id="name" th:field="*{username}" required>
            <!-- 이름 입력 에러 메시지 -->
            <div th:if="${#fields.hasErrors('username')}" class="text-danger">
                <p th:errors="*{username}"></p>
            </div>
        </div>

        <!-- 닉네임 입력 -->
        <div class="mb-3">
            <label for="nickname" class="form-label">닉네임</label>
            <input type="text" class="form-control" id="nickname" th:field="*{nickname}" required>
            <!-- 닉네임 입력 에러 메시지 -->
            <div th:if="${#fields.hasErrors('nickname')}" class="text-danger">
                <p th:errors="*{nickname}"></p>
            </div>
        </div>

        <!-- 회원 가입 버튼 -->
        <button type="submit" class="btn btn-primary btn-block">Create Account</button>
    </form>
</div>
</body>
</html>
